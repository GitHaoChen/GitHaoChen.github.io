<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hal的博客</title>
  <subtitle>愿你走出半生，仍是少年</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2017-08-10T02:29:47.129Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Hal</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Hibernate配置文件</title>
    <link href="http://yoursite.com/2017/07/25/Hibernate_cfg/"/>
    <id>http://yoursite.com/2017/07/25/Hibernate_cfg/</id>
    <published>2017-07-25T15:56:46.000Z</published>
    <updated>2017-08-10T02:29:47.129Z</updated>
    
    <content type="html"><![CDATA[<h4 id="hibernate配置文件hibernate-cfg-xml基本信息如下："><a href="#hibernate配置文件hibernate-cfg-xml基本信息如下：" class="headerlink" title="hibernate配置文件hibernate.cfg.xml基本信息如下："></a>hibernate配置文件hibernate.cfg.xml基本信息如下：</h4><a id="more"></a>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&apos;1.0&apos; encoding=&apos;utf-8&apos;?&gt;</div><div class="line">&lt;!DOCTYPE hibernate-configuration PUBLIC</div><div class="line">        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;</div><div class="line">        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;</div><div class="line"></div><div class="line">&lt;hibernate-configuration&gt;</div><div class="line">    &lt;session-factory&gt;</div><div class="line">        &lt;!-- Database Connection Settings --&gt;</div><div class="line">        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;</div><div class="line">        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost/hibernate&lt;/property&gt;</div><div class="line">        &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;</div><div class="line">        &lt;property name=&quot;hibernate.connection.password&quot;&gt;cupdata&lt;/property&gt;</div><div class="line">        </div><div class="line">        &lt;!-- JDBC connection pool (use the built-in) 基本不用 --&gt;</div><div class="line">        &lt;!-- &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt; --&gt;</div><div class="line">        </div><div class="line">        &lt;!-- SQL dialect --&gt;</div><div class="line">        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;</div><div class="line">        </div><div class="line">        &lt;!-- Enable Hibernate&apos;s automatic session context management --&gt;</div><div class="line">        &lt;!-- &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt; --&gt;</div><div class="line">        </div><div class="line">        &lt;!-- Disable the second-level cache --&gt;</div><div class="line">        &lt;property name=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;</div><div class="line">        </div><div class="line">        &lt;!-- Echo all excuted SQL to stdout --&gt;</div><div class="line">        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;</div><div class="line">        </div><div class="line">        &lt;!-- Drop and re-create the database schema on startup --&gt;</div><div class="line">        &lt;!-- &lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;  --&gt;</div><div class="line">        &lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;</div><div class="line">        </div><div class="line">        &lt;mapping resource=&quot;com/lidolid/hibernate/model/Student.hbm.xml&quot;/&gt;</div><div class="line">        &lt;!-- 指明Teacher被加了annotation映射 --&gt;</div><div class="line">        &lt;mapping class=&quot;com.lidolid.hibernate.model.Teacher&quot;/&gt;</div><div class="line">    &lt;/session-factory&gt;</div><div class="line">&lt;/hibernate-configuration&gt;</div></pre></td></tr></table></figure>
<h5 id="使用时，按要求修改内容"><a href="#使用时，按要求修改内容" class="headerlink" title="使用时，按要求修改内容"></a>使用时，按要求修改内容</h5><ul>
<li>Database Connection Settings，数据库连接配置，分别为数据库驱动、数据库地址、username和password</li>
<li>JDBC connection pool，连接池，一般不使用</li>
<li>SQL dialect，数据库方言，使用时注意数据库版本</li>
<li>second-level cache，二级缓存，hibernate优化是使用</li>
<li>show_sql，执行时显示生成的SQL脚本</li>
<li>hbm2ddl.auto，存在四个取值:  <ul>
<li>create：启动时删数据库中的表，然后创建，退出时不删除数据表</li>
<li>create-drop：启动时删数据库中的表，然后创建，退出时自动删除所有表</li>
<li>update：自动修改，如果表结构与实体类不一致，那么就修改表使它们一致，数据会保留</li>
<li>validate：自动校验，如果表结构与实体类不一致，那么不做任何操作，报错</li>
</ul>
</li>
<li>mapping，model与数据库映射，在使用model.hbm.xml时要用/，使用Annotation时使用.来指明了被映射</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;hibernate配置文件hibernate-cfg-xml基本信息如下：&quot;&gt;&lt;a href=&quot;#hibernate配置文件hibernate-cfg-xml基本信息如下：&quot; class=&quot;headerlink&quot; title=&quot;hibernate配置文件hibernate.cfg.xml基本信息如下：&quot;&gt;&lt;/a&gt;hibernate配置文件hibernate.cfg.xml基本信息如下：&lt;/h4&gt;
    
    </summary>
    
    
      <category term="hibernate" scheme="http://yoursite.com/tags/hibernate/"/>
    
      <category term="配置" scheme="http://yoursite.com/tags/%E9%85%8D%E7%BD%AE/"/>
    
  </entry>
  
</feed>
